<script setup lang="ts">
import Sidebar from '@/components/Sidebar.vue'
import { useRoute, useRouter } from 'vue-router'

const router = useRouter()
const route = useRoute()

const menuItems = [
  { icon: 'ðŸ ', label: 'æ›²é¢åˆ†æ®µè¿›åº¦æŽ¨æ¼”', path: '/' },
  { icon: 'ðŸ”§', label: 'ä¸‰ç»´ä½œä¸šæŒ‡å¯¼ä¹¦', path: '/3d-guide' },
  { icon: 'ðŸ“', label: 'æ›²é¢åˆ†æ®µè®¡åˆ’', path: '/surface-plan' },
  { icon: 'ðŸ—ï¸', label: 'åœºåœ°è®¾è®¡', path: '/scene-editor' },
  { icon: 'ðŸ“‹', label: 'åœºåœ°ä»»åŠ¡', path: '/venue-task' },
  { icon: 'ðŸ“Š', label: 'å·¥åŽ‚ç›‘æŽ§å¤§å±', path: '/monitor', external: 'http://62.234.55.120/screen/' },

]

function handleNavigate(path: string) {
  const item = menuItems.find(m => m.path === path)
  if (item?.external) {
    window.open(item.external, '_blank')
    return
  }
  router.push(path)
}
</script>

<template>
  <div class="min-h-screen bg-background">
    <!-- ä¾§è¾¹æ  -->
    <Sidebar
      :menu-items="menuItems"
      :current-path="route.path"
      @navigate="handleNavigate"
    />

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="ml-60 h-screen overflow-hidden pl-2">
      <router-view />
    </main>
  </div>
</template>
